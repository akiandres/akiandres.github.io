<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokemon</title>
    <style>
         #pokemon-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    table {
      border: 1px solid black;
      border-collapse: collapse;
      text-align: center;
    }
    td {
      border: 1px solid black;
      padding: 5px;
    }
    img {
      width: 100px;
      height: 100px;
    }
    input, button {
      margin: 5px;
    }
    </style>

</head>
<body>
     <h1 id="title">Generador de Pokemon</h1>
     <div id="generador">
    <input type="number" id="cantidad" placeholder="Pokemones">
    <button id="btn-cargar">Cargar Pok√©mon</button>
  </div>
     <div id="pokemon-list">
     </div>
    <script>
        
 document.getElementById("btn-cargar").addEventListener("click", () => {
      const cantidad = document.getElementById("cantidad").value;
      if (cantidad > 0) {
        CargarListado(cantidad);
      } else {
        alert("Ingresa una cantidad valida de pokemon");
      }
    });

async function CargarListado(cantidad)
{
      const response =
      await fetch(`https://pokeapi.co/api/v2/pokemon?limit=${cantidad}`);
       let respuesta = await response.json();
      console.log(respuesta);
    const {count , results}=respuesta;
    console.log(results);

    const pokedex=document.getElementById("pokemon-list");
    pokedex.innerHTML = ""; 
    for (const pokemon of results) {
       const {name, url}=pokemon;
            const datosPokemon = await LeerPokemon(url);
       const {types, sprites} = datosPokemon;


    
        var tabla= document.createElement("table");
        var tblBody= document.createElement("tbody");
         
         const filaImg = document.createElement("tr");
    const celdaImg = document.createElement("td");
    const img = document.createElement("img");
    img.src = sprites.front_default;
    img.alt = pokemon.name;
    celdaImg.appendChild(img);
    filaImg.appendChild(celdaImg);
    tblBody.appendChild(filaImg);


        const filaNombre = document.createElement("tr");
       const celdaNombre = document.createElement("td");
        celdaNombre.textContent = pokemon.name.toUpperCase();
        filaNombre.appendChild(celdaNombre);
        tblBody.appendChild(filaNombre);

        
               types.forEach( tipo =>{
                const filaTipos = document.createElement("tr");
                var celdatipo=document.createElement("td");
                celdatipo.textContent = tipo.type.name;
                filaTipos.appendChild(celdatipo);
                tblBody.appendChild(filaTipos);
            } )
           


               tabla.appendChild(tblBody);
               pokedex.appendChild(tabla);
 
 
            };

    
}
async function LeerPokemon(url)
{
    const response =
      await fetch(url);
       return await response.json();
}


    </script>
</body>
</html>